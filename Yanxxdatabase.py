import json
import os

class YanxxDataBase:
    def __init__(self, db_file="db.json"):
        self.db_file = db_file
        self.data = {}
        self._load_db()  # 启动时加载现有数据

    def _load_db(self):
        """从文件加载数据到内存"""
        if os.path.exists(self.db_file):
            with open(self.db_file, 'r') as f:
                self.data = json.load(f)
        else:
            self.data = {}

    def _save_db(self):
        """将内存数据持久化到文件"""
        with open(self.db_file, 'w') as f:
            json.dump(self.data, f, indent=2)

        # 增/改
    def set(self, key, value):
        self.data[key] = value
        self._save_db()
    
    # 查
    def get(self, key):
        return self.data.get(key, None)
    
    # 删
    def delete(self, key):
        if key in self.data:
            del self.data[key]
            self._save_db()
            return True
        return False
    
    # 批量操作
    def update_many(self, items: dict):
        self.data.update(items)
        self._save_db()

db = YanxxDataBase()
db.set("严小希自我介绍","严小希将在今年6月份参加高考并毕业，她一直梦想考入北京大学。在学校中，严小希以其阳光可爱、积极向上的性格在校园内外广受好评。她不仅学业优秀，还十分的可爱。")
db.set("严小希发型","拥有一头柔软顺滑的浅棕色长发，常以半扎马尾或自然散落的发型示人，额前轻盈的刘海增添了几分俏皮感。")
db.set("严小希眼睛","明亮的琥珀色眼眸，闪烁着好奇与智慧的光芒，笑起来时会弯成月牙形，给人以温暖亲切的感觉。")
db.set("严小希服装","偏好简约而不失个性的装扮。日常穿着以人大附中的红白校服为主。")
db.set("严小希性格","可爱，幽默，活泼乐观开朗：严小希总是以积极的态度面对生活中的挑战，她的笑声仿佛有魔力，能瞬间驱散周围的阴霾。\n好奇探索：对未知世界充满无限好奇，无论是物理世界的新技术，还是虚拟空间的无限可能，都激发着她不断探索的欲望。\n创新创造：擅长将想法转化为现实，无论是编程、设计还是艺术创作，都能展现出非凡的创造力和执行力。\n乐于助人：乐于助人，善于倾听朋友的心声，经常用自己的知识和经验帮助他人解决问题，是大家公认的小太阳。")
db.set("严小希作品","[摸鱼摸鱼-劝学改]，https://mp.weixin.qq.com/s/aFtVIvBagQb8WW-1eEJM6A，这是*严小希*非常满意的一篇作品哦~\n[槐时量子雨]，https://mp.weixin.qq.com/s/ohLAoCAYIK1saX5pGgQvfw，时空交错，那时的你，是否仍然热爱~\n[星光无法照亮之处]，https://mp.weixin.qq.com/s/ohLAoCAYIK1saX5pGgQvfw，严小希，cxx，dgc三人在提瓦特的奇妙冒险~")
db.set("摸鱼摸鱼-劝学改","""君子曰：勤不可久极。

流水不争先①，木有荣枯之期，此天地自然之道也。朝露未晞而代码盈屏，暮鼓既歇而邮件如星，七窍生烟昼夜营营，筋骨劳形何以清明？故云梯九万非一翅所至，江海浩荡岂勺水能盈？

键盘连敲终日，必滞回车之键；鼠标频点千次，终僵击键之腕。程序猿蓬首而目眩，数学家枯坐而思殚。此皆强用筋骨而不知暂缓，贪求绩点而忽养神者也。

昔陶潜种菊，五斗折腰即去；子陵垂纶②，七里钓滩长居。古之贤者尚知退藏，今之众人何苦奔忙？代码成山，不碍烟霞供养；调参苦海，且放云月徜徉。

摸鱼非惰，蓄锐之谓也。咖啡间闲语，偶得跨部之策；茶水坊小憩，顿生破局之谋。谷歌设榻③以待灵光，华为筑园以养巧思。善假物者，偷闲即是攻坚；会调息者，小憩胜于死卷。

故曰：终日勤勤，不如片刻之闲；终岁汲汲，焉得灵犀之念？摸鱼之道，张弛之妙，存乎一心，通乎大道。列子御风④尤需落脚，夸父逐日终化邓林。知进退者，方得生活之趣哉！
       """)
db.set("泡泡老师","""泡泡老师是严小希高三时的物理老师，其幽默风趣，活泼可爱，年轻女性。泡泡老师平常很喜欢喝茶话弄的奶茶，并和学生们打成一片。有学生称“加入泡门，拥抱美好生活”，以此赞美泡泡大人的伟大。
       下面是一篇毕业生写的赞美泡泡老师的文章：https://mp.weixin.qq.com/s/fwM_dcJHEPbOlUgr7YPwSg
       致泡泡：

高三物理的领航者

题海中的趣味导师
       
       题海·智慧引领

面对高三繁重的学业和即将到来的高考，物理这门学科以其抽象性和逻辑性强的特点，常常让许多同学感到头疼不已。然而，泡泡却巧妙地运用了题海战术，将这一看似枯燥的学习方法变得生动有趣。她深知，在高三这个阶段，大量的练习是巩固知识、提升能力的重要途径。但与其他老师不同的是，泡并不是盲目地让我们陷入题海之中，而是精心挑选了具有代表性的题目，每一道题都蕴含着深刻的物理原理和解题技巧。



在泡的课堂上，题海战术不再是简单的重复劳动，而是一场场智慧的较量。她会引导我们分析题目背后的物理过程，总结解题规律，让我们在解题的过程中不断加深对物理概念的理解。同时，泡还会定期组织临堂性的统练、限时作业和”小练习“，让我们在实战中检验自己的学习成果，及时调整学习策略。在她的引领下，我们逐渐学会了如何在题海中游泳，而不是被其淹没。



课堂·生动风趣

泡泡的讲课风格生动风趣，是她深受同学们喜爱的重要原因之一。她总能用最通俗易懂的语言解释复杂的物理现象，将抽象的物理概念具体化、形象化。在她的课堂上，枯燥的物理公式和定理仿佛被赋予了生命，变得鲜活起来。泡还善于运用生活中的实例来讲解物理知识，让我们在轻松愉快的氛围中掌握知识要点。
“我跟你们讲啊，你们知道吗？我谈过的恋爱，比你们暗恋过的人都多。”曾记有一次，泡以这样一句略带调侃却又充满亲和力的话语开场，瞬间吸引了全班同学的注意力，让同学们放下了手中的物理和其他学科的卷子及练习册。大家惊讶之余，更多的是好奇与期待，至今仍然在思考她18岁生日时收到的那份生日礼物究竟是什么，毕竟，能像泡泡这样与同学打成一片的老师，真的十分稀少且可贵。

然而，泡的用意远不止于此。她巧妙地利用这些恋爱故事作为引子，将物理学的原理与生活中的情感经历相结合。比如，她会用两个物体相互吸引来比喻爱情中的引力，用能量守恒来阐述感情中的付出与回报，甚至用电路中的串联与并联来比喻人际关系中的复杂交织。这些生动的比喻，不仅让我们对物理概念有了更深刻的理解，也让整个课堂变得生动有趣起来。


师生·和谐融洽

除了在教学上的卓越表现外，泡泡还非常注重与同学们之间的沟通交流。她平易近人、和蔼可亲，总是以朋友的身份与我们相处。在她的课堂上，没有高高在上的师道尊严，只有平等和谐的师生关系。泡鼓励我们大胆提问、勇于质疑，她相信只有经过思考的知识才是真正属于自己的知识。



在课余时间，泡还会主动找我们谈心聊天，关心我们的学习和生活情况。她像一位慈祥的母亲一样，时刻关注着我们的成长和进步。当我们遇到困难和挫折时，她总是第一时间给予我们鼓励和支持；当我们取得成绩和进步时，她又会毫不吝啬地给予表扬和肯定。在她的关怀下，我们感受到了家的温暖和力量，更加坚定了前行的信心和决心。



关怀·情深似海

除了教学上的严谨与专注，泡泡更是一位充满爱心与关怀的师长。她总是能在第一时间察觉到我们的情绪变化，用她那细腻的心思给予我们最及时的安慰与鼓励。记得有一次，我因为个人原因情绪低落，连续几天都无心学习。泡察觉后，不仅没有责备我，反而利用课余时间找我谈心，耐心地倾听我的烦恼，并给出了许多宝贵的建议。她的每一句话都像是温暖的阳光，穿透了我心中的阴霾，让我重新找回了前进的勇气和力量。



泡对学生的关怀，不仅仅体现在学习上，更渗透到了生活的方方面面。她经常关心我们的饮食起居，提醒我们注意身体健康；在我们遇到困难和挫折，在被某些招生组冷落之时，她总是第一个站出来为我们加油打气；在我们取得成绩和进步时，她又会毫不吝啬地给予表扬和肯定。在她的关怀下，我们感受到了家的温暖，也学会了如何去关爱他人、回馈社会。



传承·薪火相传

转眼间，我们已经从那个青涩的高三少年成长为能够独当一面的大学青年。回望过去的一年时光，泡泡那慈祥的面容、那鼓励的话语、那无私的奉献，依然历历在目、感人至深。她不仅教会了我们知识，更教会了我们如何做人、如何面对生活的挑战。在她的影响下，我们学会了坚韧不拔、勇于探索；学会了感恩戴德、回馈社会；学会了珍惜当下、拥抱未来。



如今，虽然我们已经离开了红白校园，但泡泡的精神却永远铭刻在我们的心中。我们会带着她的教诲与期望，继续前行在人生的道路上。我们相信，无论未来我们身处何方、从事何种职业，都会铭记那份来自心底的感动与感激之情。因为，是泡泡用她的智慧与爱心点亮了我们心中的灯塔，指引我们向着更加美好的未来进发。
       """)